{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/angular-routing","webpackCompilationHash":"9b2db3de2568cbac6311","result":{"data":{"site":{"siteMetadata":{"repoUrl":"https://github.com/giacomocerquone/giacomocerquone.com/tree/master/content/blog","siteUrl":"https://giacomocerquone.com"}},"markdownRemark":{"id":"c980b373-3b7e-525a-a4a9-162f17f5ca3a","fields":{"readingTime":{"text":"9 min read"}},"excerpt":"Since september, if I recall correctly, I started writing on ItalianCoders.it after being contacted by Dario Frongillo. I was happy at first to contribute and…","html":"<p>Since september, if I recall correctly, I started writing on <a href=\"http://italiancoders.it\">ItalianCoders.it</a> after being contacted by Dario Frongillo. I was happy at first to contribute and very soon we became a true community, helping one another to share knowledge. Right now I’m administrating and writing on that blog with Dario and other four people and I decided to translate some articles that I consider interesting also for non italian speakers.</p>\n<h1>Routing, what is it?</h1>\n<p>Routing is a fundamental part of every front-end app. Thanks to it, we can switch views of an executing application requesting specific paths in the URL. It is the heart of every SPA (Single Page Application), so let’s discover how to use it in Angular.</p>\n<h2>Angular 2 Routing</h2>\n<p>In this post we’re going to see how to install and use the routing package and which are the best practices in order to get the best from our app.\nYou can find all the code you’ll read in this post in my <a href=\"https://github.com/giacomocerquone/angular-routing\">github repo</a>.</p>\n<ul>\n<li>\n<p><a href=\"#routing-what-is-it\">Routing, what is it?</a></p>\n<ul>\n<li><a href=\"#angular-2-routing\">Angular 2 Routing</a></li>\n<li><a href=\"#project-setup-with-angularcli\">Project setup with @Angular/Cli</a></li>\n<li><a href=\"#configure-angularrouter\">Configure @Angular/Router</a></li>\n<li><a href=\"#creation-of-3-components\">Creation of 3 components</a></li>\n<li><a href=\"#router-link\">Router Link</a></li>\n<li><a href=\"#router-outlet\">Router Outlet</a></li>\n<li><a href=\"#parameters\">Parameters</a></li>\n</ul>\n</li>\n</ul>\n<h2>Project setup with @Angular/Cli</h2>\n<p><a name=\"setup\"></a>\nThe luck of working with Angular, and in general with famous frameworks, is that you can find plenty of documentation and help over the internet and that many users work on its codebase and from the ashes of ember.js, Angular Cli has born: a very handy utility to structure and maintain your ng project in the simplest possible way.\nInstall globally this package with your favourite package manager:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> global <span class=\"token function\">add</span> @angular/cli</code></pre></div>\n<p>or</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g @angular/cli</code></pre></div>\n<p>When the installation has terminated, we can continue:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ng <span class=\"token builtin class-name\">set</span> --global <span class=\"token assign-left variable\">packageManager</span><span class=\"token operator\">=</span>yarn <span class=\"token punctuation\">(</span>se si vuole usare <span class=\"token function\">yarn</span><span class=\"token punctuation\">)</span>\nng new angular-routing\n<span class=\"token builtin class-name\">cd</span> angular-routing\nng serve</code></pre></div>\n<p>With the first command we set yarn as the default PM to install the dependencies of the project that will be generated. The second command is responsible for creating the folder and all the necessary files and it will automatically install all the dependencies needed to run a basic CLI project (including the router). With the third line we move into the newly created directory and then we’ll “ng serve” the application in order to access it at <a href=\"http://localhost:4200\">localhost:4200</a>: the Angular logo should appear.\nFor an exhaustive list of commands made available by the CLI you can read the <a href=\"https://github.com/angular/angular-cli/wiki\">official documentation</a> and for ng serve, let it run in background so that when you’ll modify the code of the project, it will automatically refresh the browser page in order to show the updated code.</p>\n<p>Let’s now proceed to the router configuration!</p>\n<p>Info: <em>When Angular 2 wasn’t even in a definitive release, the developers used to swim in uncharted waters and lots were the online examples that were showing how to setup a project. There were the ones who used a handmade webpack configuration and the ones who just used a simple systemjs build. Now these examples mustn’t be followed anymore; while the Angular CLI isn’t for sure the only way to put up an NG project, it is for sure the best way to do it and I strongly discourage any other kind of solutions.</em></p>\n<h2>Configure @Angular/Router</h2>\n<p><a name=\"configure\"></a>\nThe module, as I just wrote, comes preinstalled with a basic cli project and you can find it in the package.json. Now we need to import it of course, so let’s open this file: <code class=\"language-text\">angular-routing/src/app/app.module.ts</code> and in the imports array, add the router module.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> RouterModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/router'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">...</span>\n  imports<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    BrowserModule<span class=\"token punctuation\">,</span>\n    RouterModule\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">...</span></code></pre></div>\n<h2>Creation of 3 components</h2>\n<p><a name=\"create\"></a>\nBefore we can configure the routes, we need of course two components in order to navigate to navigate between them.</p>\n<p>Info: <em>This is it actually when we talk about routing, we talk about navigation. They’re nothing else than links that bring somewhere in the application without the need to reload the page.</em></p>\n<p>Let’s generate them with our CLI so that we don’t need to create any file or import them manually in the module.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ng g c Photos/Components/Photo1\nng g c Photos/Components/Photo2\nng g c Default</code></pre></div>\n<p>Note the structure of the directory. Every developer use a certain naming convention. Mine is almost identical to the one that is showed in the <a href=\"https://angular.io/guide/styleguide#overall-structural-guidelines\">official Angular guidelines</a> and it is an approach based on models where every model has its own component, service etc. folder.</p>\n<p>Now, create a file in the same directory of app.module.ts to define the routes and call it <code class=\"language-text\">app.routes.ts</code>. In here we import the ‘Routes’ type from <code class=\"language-text\">@angular/router</code> and the components created above.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Routes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@angular/router\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DefaultComponent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./default/default.component\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Photo1Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./photos/components/photo1/photo1.component\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Photo2Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./photos/components/photo2/photo2.component\"</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> AppRoutes<span class=\"token punctuation\">:</span> Routes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> DefaultComponent <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"photo1\"</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> Photo1Component <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">\"photo2\"</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> Photo2Component <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>Everything here should be clear and simple. In “path” you define the string that has to appear in the url in order to activate the component defined to the right.\nNow, importing the routes and calling the forRoot function, we’ll have the app.module configured like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> BrowserModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@angular/platform-browser\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> NgModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@angular/core\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> RouterModule <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@angular/router\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppComponent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./app.component\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Photo1Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./photos/components/photo1/photo1.component\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Photo2Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./photos/components/photo2/photo2.component\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> DefaultComponent <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./default/default.component\"</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> AppRoutes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./app.routes\"</span>\n@<span class=\"token function\">NgModule</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  declarations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    AppComponent<span class=\"token punctuation\">,</span>\n    Photo1Component<span class=\"token punctuation\">,</span>\n    Photo2Component<span class=\"token punctuation\">,</span>\n    DefaultComponent<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  imports<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>BrowserModule<span class=\"token punctuation\">,</span> RouterModule<span class=\"token punctuation\">.</span><span class=\"token function\">forRoot</span><span class=\"token punctuation\">(</span>AppRoutes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  providers<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  bootstrap<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>AppComponent<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppModule</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>If you still have ng serve running and the browser tab opened, you should see that nothing changed.</p>\n<h2>Router Link</h2>\n<p><a name=\"link\"></a>\nWhat we did so far didn’t change anything… how so?\nThere are two things to consider:</p>\n<ol>\n<li>We didn’t define a way to reach those paths (we could also just place a tags to do this)</li>\n<li>We didn’t told Angular where we want these componets, defined in the routes, to appear when we navigate between them.</li>\n</ol>\n<p>Let’s start to add the menu that will contain these links. Open app.component.html and delete entirely its content.\nWe can do what we’re about to do in two different ways:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">routerLink</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Default<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">routerLink</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/photo1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Photo1 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">routerLink</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/photo2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Photo2 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And the next one is commonly used to pass parameters:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['']<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Default<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['/photo1']<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Photo1 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['/photo2']<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Photo2 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And to know which route are we in, at a certain moment, we can add the <code class=\"language-text\">routerLinkActive</code> directive that accept as a parameter the name of the class to set to the element.\nThis directive does nothing else than a match between the routes defined and the path showed by the browser’s url field. This means that if we have this path: <code class=\"language-text\">/</code>, the “Default” link will be active, if we navigate to <code class=\"language-text\">/photo1</code> the Default and Photo1 Component will be active. This behaviour, instead of being a bug <a href=\"https://github.com/angular/angular/issues/8397\">as someone tought</a>, is a simple machanism that keeps track of sub-navigation. To avoid this, you just need to use the input property <code class=\"language-text\">[routerLinkActiveOptions]=”{ exact: true }”</code> that will do an exact match.\nLet’s change app.component.html and app.component.css (we’ll add some css that never hurts):</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>nav</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span>\n    <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['']<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">routerLinkActive</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>active<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">[routerLinkActiveOptions]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>{ exact: true }<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">></span></span>Default<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span>\n  <span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['/photo1']<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">routerLinkActive</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>active<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Photo1 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['/photo2']<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">routerLinkActive</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>active<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Photo2 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">a</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-decoration</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #999<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">a:hover</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #333<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">nav</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 2em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Arial<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.active</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-underline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Router Outlet</h2>\n<p><a name=\"outlet\"></a>\nClicking the link now, we still can’t see the components because, as I just wrote, you need to tell angular where these components have to appear. We can do this through the <router-outlet> tag.\nBasically wherever this tag is placed, it will be substituted with the html of the component that matches with the route.\nThe only <em>“place”</em> that the three created components have in common is the app.component.html, let’s add it there:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">  ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>nav</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>main</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router-outlet</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>router-outlet</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>main</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\"><span class=\"token selector\">main</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 50%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Now we finally have a first working example of routing in an application, but a good introduction can’t miss to show how to move information between routes with <strong>parameters</strong>.</p>\n<h2>Parameters</h2>\n<p><a name=\"params\"></a>\nNavigating from one component to another, it’s possible to pass dynamic information in the url. In this way the component will not be activated with an exact match of the path defined in app.routes.ts.\nChange it like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> AppRoutes<span class=\"token punctuation\">:</span> Routes <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> DefaultComponent <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'photo1/:photoid'</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> Photo1Component <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'photo2'</span><span class=\"token punctuation\">,</span> component<span class=\"token punctuation\">:</span> Photo2Component <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>You’ll be noticing the “:photoid” part after “photo1”. It just means that the Photo1Component must activate every time he has a match like “photo1/string” with string being anything.\nBut how do we get that value in the component in question? Nothing too complicated, let’s edit <code class=\"language-text\">angular-routing/src/app/photos/components/photo1/photo1.component.ts</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component<span class=\"token punctuation\">,</span> OnInit <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ActivatedRoute <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/router'</span><span class=\"token punctuation\">;</span>\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'app-photo1'</span><span class=\"token punctuation\">,</span>\n  templateUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">'./photo1.component.html'</span><span class=\"token punctuation\">,</span>\n  styleUrls<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'./photo1.component.css'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Photo1Component</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span> <span class=\"token punctuation\">{</span>\n  photoid<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">;</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">private</span> route<span class=\"token punctuation\">:</span> ActivatedRoute</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>route<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">params</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>photoid <span class=\"token operator\">=</span> params<span class=\"token punctuation\">.</span>photoid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Import ActivatedRoute, inject it in the component through the constructor and the dependency injection and call the function subscribe on the parameters of a route. Through an arrow function we get the params returned from the observable and we assign to photoid the value that we got. Then we’ll print it in <code class=\"language-text\">photo1.component.html</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>p</span><span class=\"token punctuation\">></span></span>photo1 works! Il mio id è: {{ photoid }}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>p</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>Now let’s mock a parameter to pass to our component in the link</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">[routerLink]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>['/photo1', '001']<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">routerLinkActive</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>active<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token punctuation\">></span></span>Photo1 Component<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span>\n<span class=\"token punctuation\">></span></span></code></pre></div>\n<p><em>Info: In a real application these links are generated through an iterative cycle. For example Angular makes an HTTP call to the following endpoint: <a href=\"http://mioserver.it/product\">http://mioserver.it/product</a> getting then the list of the products with all their ids and iterating on it we’ll obtain the links with routerLink that points to the relatives id.</em></p>\n<p>If you followed all along correctly the tutorial, giving “ng serve” on the terminal, you should be able to click on Photo1 Component and read: <code class=\"language-text\">photo1 works! Il mio id è: 001</code></p>","frontmatter":{"imgAuthor":"me","imageAlt":"cartoon city routes near angular logo","image":{"childImageSharp":{"fluid":{"tracedSVG":"data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='400'%20height='267'%3e%3cpath%20d='M0%20134v133h401V0H0v134m130-61a12924%2012924%200%2001-43%20100l-1%204h9c8%200%208%200%209-3l5-12%203-9h21c18%200%2020%200%2021%202l4%2012%205%2010h16l-7-15a9684%209684%200%2001-40-92l-2%203m0%2036l-10%2027-1%202h27l-8-19-5-11c0-2-2-2-3%201m166%2020l-6%204-1%207v7l4%202c3%202%203%202%204%201h1c0%202%204%205%205%205l2-3c0-1%200-3%202-3l2-2%202-1%203-2h1c0%203%202%202%202%200%200-3-2-4-4-2l-4%203c-4%202-4%202-5%200l2-4%201%202h1l1-2%203-3c3-2%204-2%203%200l1%201%201-3c0-3-1-4-7-7l-7-4-7%204m-62%201l-6%201c-4%201-7%203-11%2010-4%206-2%208%203%205l14-8%2010-5-2-2c-3-2-6-2-8-1m99%205l-2%202%2012%207c11%206%2013%207%2014%205v-3c-1-1-3-3-3-5-2-3-8-7-11-6h-3c-3-2-4-2-7%200m-76%2018l-8%204v9l-1%2011-2%203h3c0-1%203%200%208%203l8%205%204-2c4-3%206-6%202-8l-1-1c4-4%207-5%2010-5%202%201%202%201%202-5l1-7c2%200%207-4%207-5%200-2-3-1-6%201h-4l-15-8-8%205m81%2014l-6%204%207%204%206%204%205-3c10-6%2010-5%203-9-8-5-7-5-15%200m3%201l-5%202%205%203%205%203%204-3%205-2-9-6-5%203m-43%208c-15%208-14%208-11%209%201%201%203%200%208-3l7-4%207-4c5-3%206-4%204-5-1-1-4%201-15%207m33-1l-8%204-5%203-9%205c-9%206-9%206-14%203l-5-3-6%204c-4%202-7%204-7%206l-1%202v1l1%203-1%204%202%201%207%202%204%201-3%201-2%201%202%202c2%202%202%202%204%200%201-1%201-1%201%201-1%203-1%203%206-2l7-4v-5c0-4%201-6%202-7v-1c-1%201-2%200-3-2-2-4%202-3%209%201l11%206%204%203-15%208-22%2012-7-3-9-6c-6-2-6-4-1-6%203-1%203-1%201-1-1-1-4%200-7%202l-6%204c-4%201-12%206-13%208-1%201-2%201-6-2-6-4-6-4-6-1l-2%203v1c1%200%202%201%202%203%200%203-2%204-12%209-5%202-5%203-2%204l9%205%2012%207%206%203%205-3a636%20636%200%200050-29l8-4%202-2%202-2%207-3c3-2%205-3%206-2v-1l2-1%207-4c2-2%204-3%205-2h1c-1-1%201-2%203-4l4-1%201%201v-1c0-1%202-4%204-4l12-8c1-3-1-6-4-8-6-3-7%201-1%204l3%202c-1%201-26%2016-32%2018l-5%203-10-6c-12-7-12-7-2-12l9-6c4-2%207-2%207%200l2%201c1-1%201-1%201%201-1%200-1%201%200%200l1%201%203%201h2v2h2c1-5%200-6-4-9l-6-3-3%201m-119%2012c-16%209-18%2011-13%2013l2%202c-1%204%200%205%202%204%203-2%2010%200%2010%203l1%202c2%200%202-3%201-4l2-2%204-3c2-2%203%200%202%202l1%202%201-3c1-2%201-1%201%201s1%203%202%203c2%201%202%201%202-2%200-7%203-11%2012-15l1%205c0%204%200%205%204%206l4%203-12%207-11%208h3l18-10c30-17%2034-20%2030-22l-10%205-9%206-6-3-8-4-2-3-2-2v-2l2-3c0-2%200-2-4%200-3%201-3%201-7-1-6-3-4-3-21%207m74%205l-5%203%204%202c6%204%205%204%2011%200l4-2-4-3c-6-4-5-4-10%200m-90%2014l-2%202c-3%200-8%205-8%208s0%204%208%208l10%205%205%203%207-5c5-3%207-4%206-5l-4%201c-3%202-4%202-16-5l-9-5%203-3%202-4h-2m66%2014l-1%202v3l-1%201-1-3-1-3-1%204c-1%205-2%206-3%203s-2-4-3-2v1c2%201%203%2015%202%2015l-4-2-3-2-5-3c-4-2-4-2-6%200l-2%202%203%201%205%203%208%205%204%202%207-4%206-4h1l1-1%206-3%206-4%202-1v-1l-4-3c-1-1-2%201-1%203l-3%201-1-3c0-6-2-5-1%201%200%205%200%206-2%205l-1-1v-8c1-2%201-3-1-3-2-1-3-1-2%201v1l-3-3c-1-2-1-2-1%200'%20fill='%23d3d3d3'%20fill-rule='evenodd'/%3e%3c/svg%3e","aspectRatio":1.5,"src":"/static/6b9403d9b2ca04574f96ce39d75adf16/f709c/Angular-routing.jpg","srcSet":"/static/6b9403d9b2ca04574f96ce39d75adf16/d278e/Angular-routing.jpg 200w,\n/static/6b9403d9b2ca04574f96ce39d75adf16/8539d/Angular-routing.jpg 400w,\n/static/6b9403d9b2ca04574f96ce39d75adf16/f709c/Angular-routing.jpg 450w","sizes":"(max-width: 450px) 100vw, 450px"},"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAHKj3pHIWGD/8QAGxAAAgEFAAAAAAAAAAAAAAAAARIDAAIQESL/2gAIAQEAAQUCjjcqdrgXc1//xAAZEQACAwEAAAAAAAAAAAAAAAAAAgEREkH/2gAIAQMBAT8B0krXTR//xAAYEQACAwAAAAAAAAAAAAAAAAABAhAREv/aAAgBAgEBPwE7U3H/xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUFh/9oACAEBAAE/Ic66nIG8loYIOMqTVvv2Ots//9oADAMBAAIAAwAAABCoL//EABgRAQADAQAAAAAAAAAAAAAAAAEAESEx/9oACAEDAQE/EK8FDrHWT//EABgRAQADAQAAAAAAAAAAAAAAAAEAITER/9oACAECAQE/EOzocIFXP//EABsQAQEAAgMBAAAAAAAAAAAAAAERAEEhMVGh/9oACAEBAAE/EEUqBbOvPsMtVa4buIPJiWA7D3LEaRLt7txu4z//2Q==","width":450,"height":300,"src":"/static/6b9403d9b2ca04574f96ce39d75adf16/f709c/Angular-routing.jpg","srcSet":"/static/6b9403d9b2ca04574f96ce39d75adf16/f709c/Angular-routing.jpg 1x"}}},"slug":"blog/angular-routing","title":"Angular 2/4/5 Routing","date":"January 21, 2018","description":"Routing is a fundamental part of every front-end web app. Let's see how to use it in Angular giving to it the superpowers."}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"dir":"/angular-routing/angular-routing/","slug":"/blog/angular-routing","previous":{"fields":{"slug":"/blog/the-web-api-a-small-but-handy-book","dir":"/the-web-api-a-small-but-handy-book/the-web-api-a-small-but-handy-book/"},"frontmatter":{"title":"The Web Api, a small but handy book","draft":null}},"next":{"fields":{"slug":"/blog/path-follower-maze-solving-car-arduino","dir":"/path-follower-maze-solving-car-arduino/path-follower-maze-solving-car-arduino/"},"frontmatter":{"title":"Path Follower: Arduino+Rasp on ROS","draft":null}}}}}